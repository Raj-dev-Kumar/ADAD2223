{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rajde\\\\gitrep\\\\deploy\\\\frontend\\\\src\\\\pages\\\\Movie.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { openContractCall } from '@stacks/connect';\nimport { bufferCV, UIntCV } from '@stacks/transactions';\nimport { utf8ToBytes } from '@stacks/common';\nimport { userSession } from '../auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst bytes = utf8ToBytes('foo');\nconst bufCV = bufferCV(bytes);\nexport default function App() {\n  _s();\n  let params = useParams();\n  let [movies, setMovies] = useState([]);\n  const getMovies = async () => {\n    try {\n      const response = await fetch(`http://localhost:3000/movies/${params.id}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      setMovies(data);\n      console.log(data);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const submitMessage = async e => {\n    e.preventDefault();\n    const functionArgs = [bufCV];\n    const options = {\n      contractAddress: 'STAZ0PNVXVHEM7R4XF5EZ4SS5JFM1ZMAJRPZGVK0',\n      contractName: 'upper-teal-fox',\n      functionName: 'test-emit-event',\n      functionArgs: [],\n      appDetails: {\n        name: 'Movies App Rating',\n        icon: window.location.origin + '/my-app-logo.svg'\n      },\n      onFinish: data => {\n        console.log('Stacks Transaction:', data.stacksTransaction);\n        console.log('Transaction ID:', data.txId);\n        console.log('Raw transaction:', data.txRaw);\n\n        //window.location.reload();\n      }\n    };\n\n    const response = await openContractCall(options);\n  };\n  useEffect(() => {\n    getMovies();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container pt-5 pb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Movie page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"use /movies/:id endpoint\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      children: movies.genero\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), userSession.isUserSignedIn() ? /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      onClick: submitMessage,\n      children: \"Blockchain transaction\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 39\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"XDNLr8+gCXZdHx0erwi6H61F4iM=\", false, function () {\n  return [useParams];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","openContractCall","bufferCV","UIntCV","utf8ToBytes","userSession","jsxDEV","_jsxDEV","bytes","bufCV","App","_s","params","movies","setMovies","getMovies","response","fetch","id","method","headers","data","json","console","log","error","submitMessage","e","preventDefault","functionArgs","options","contractAddress","contractName","functionName","appDetails","name","icon","window","location","origin","onFinish","stacksTransaction","txId","txRaw","className","children","fileName","_jsxFileName","lineNumber","columnNumber","genero","isUserSignedIn","href","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rajde/gitrep/deploy/frontend/src/pages/Movie.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { openContractCall } from '@stacks/connect';\nimport {\n  bufferCV, UIntCV\n} from '@stacks/transactions';\nimport { utf8ToBytes } from '@stacks/common';\nimport { userSession } from '../auth';\nconst bytes = utf8ToBytes('foo'); \nconst bufCV = bufferCV(bytes);\n\nexport default function App() {\n  let params = useParams();\n  let [movies, setMovies] = useState([]);\n\n  const getMovies = async () => {\n    try {\n      const response = await fetch(`http://localhost:3000/movies/${params.id}`, {\n        method: 'GET',\n        headers: {\n        'Content-Type': 'application/json'\n        },\n      });\n      \n      const data = await response.json();\n      setMovies(data);\n      console.log(data)\n\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n\n\n  const submitMessage = async (e) => {\n    e.preventDefault();\n    \n    const functionArgs = [\n      bufCV\n    ];\n    \n    const options = {\n      contractAddress: 'STAZ0PNVXVHEM7R4XF5EZ4SS5JFM1ZMAJRPZGVK0',\n      contractName: 'upper-teal-fox',\n      functionName: 'test-emit-event',\n      functionArgs: [],\n      appDetails: {\n        name: 'Movies App Rating',\n        icon: window.location.origin + '/my-app-logo.svg',\n      },\n      onFinish: data => {\n        console.log('Stacks Transaction:', data.stacksTransaction);\n        console.log('Transaction ID:', data.txId);\n        console.log('Raw transaction:', data.txRaw);\n\n\n        //window.location.reload();\n      },\n    };\n\n    const response = await openContractCall(options);\n    \n  };\n\n  useEffect(() => {\n    getMovies();\n  }, []);\n\n  return (\n    <div className=\"container pt-5 pb-5\">\n      <h2>Movie page</h2>\n      <p>use /movies/:id endpoint</p>\n      <a>{movies.genero}</a>\n\n      {userSession.isUserSignedIn() ? <a href=\"#\" onClick={submitMessage }>Blockchain transaction</a> : null}\n      \n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}