{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/rajde/gitrep/deploy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/rajde/gitrep/deploy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{openContractCall}from'@stacks/connect';import{bufferCV}from'@stacks/transactions';import{utf8ToBytes}from'@stacks/common';import{userSession}from'../auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var bytes=utf8ToBytes('foo');var bufCV=bufferCV(bytes);export default function App(){var params=useParams();var submitMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var functionArgs,options,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();functionArgs=[bufCV];options={contractAddress:'',contractName:'',functionName:'set-value',functionArgs:functionArgs,appDetails:{name:'Movies App Rating',icon:window.location.origin+'/my-app-logo.svg'},onFinish:function onFinish(data){console.log('Stacks Transaction:',data.stacksTransaction);console.log('Transaction ID:',data.txId);console.log('Raw transaction:',data.txRaw);window.location.reload();}};_context.next=5;return openContractCall(options);case 5:response=_context.sent;case 6:case\"end\":return _context.stop();}},_callee);}));return function submitMessage(_x){return _ref.apply(this,arguments);};}();useEffect(function(){console.log(params.id);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container pt-5 pb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Movie page\"}),/*#__PURE__*/_jsx(\"p\",{children:\"use /movies/:id endpoint\"}),userSession.isUserSignedIn()?/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:submitMessage,children:\"Blockchain transaction\"}):null]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","openContractCall","bufferCV","utf8ToBytes","userSession","jsx","_jsx","jsxs","_jsxs","bytes","bufCV","App","params","submitMessage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","functionArgs","options","response","wrap","_callee$","_context","prev","next","preventDefault","contractAddress","contractName","functionName","appDetails","name","icon","window","location","origin","onFinish","data","console","log","stacksTransaction","txId","txRaw","reload","sent","stop","_x","apply","arguments","id","className","children","isUserSignedIn","href","onClick"],"sources":["C:/Users/rajde/gitrep/deploy/frontend/src/pages/Movie.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { openContractCall } from '@stacks/connect';\nimport {\n  bufferCV,\n} from '@stacks/transactions';\nimport { utf8ToBytes } from '@stacks/common';\nimport { userSession } from '../auth';\nconst bytes = utf8ToBytes('foo'); \nconst bufCV = bufferCV(bytes);\n\nexport default function App() {\n  let params = useParams();\n\n  const submitMessage = async (e) => {\n    e.preventDefault();\n    \n    const functionArgs = [\n      bufCV\n    ];\n    \n    const options = {\n      contractAddress: '',\n      contractName: '',\n      functionName: 'set-value',\n      functionArgs,\n      appDetails: {\n        name: 'Movies App Rating',\n        icon: window.location.origin + '/my-app-logo.svg',\n      },\n      onFinish: data => {\n        console.log('Stacks Transaction:', data.stacksTransaction);\n        console.log('Transaction ID:', data.txId);\n        console.log('Raw transaction:', data.txRaw);\n\n\n        window.location.reload();\n      },\n    };\n\n    const response = await openContractCall(options);\n    \n  };\n\n  useEffect(() => {\n    console.log(params.id);\n  }, []);\n\n  return (\n    <div className=\"container pt-5 pb-5\">\n      <h2>Movie page</h2>\n      <p>use /movies/:id endpoint</p>\n\n      {userSession.isUserSignedIn() ? <a href=\"#\" onClick={submitMessage }>Blockchain transaction</a> : null}\n      \n    </div>\n  )\n}"],"mappings":"sQAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,gBAAgB,KAAQ,iBAAiB,CAClD,OACEC,QAAQ,KACH,sBAAsB,CAC7B,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,WAAW,KAAQ,SAAS,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACtC,GAAM,CAAAC,KAAK,CAAGN,WAAW,CAAC,KAAK,CAAC,CAChC,GAAM,CAAAO,KAAK,CAAGR,QAAQ,CAACO,KAAK,CAAC,CAE7B,cAAe,SAAS,CAAAE,GAAGA,CAAA,CAAG,CAC5B,GAAI,CAAAC,MAAM,CAAGb,SAAS,CAAC,CAAC,CAExB,GAAM,CAAAc,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,YAAA,CAAAC,OAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5BR,CAAC,CAACS,cAAc,CAAC,CAAC,CAEZR,YAAY,CAAG,CACnBV,KAAK,CACN,CAEKW,OAAO,CAAG,CACdQ,eAAe,CAAE,EAAE,CACnBC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,WAAW,CACzBX,YAAY,CAAZA,YAAY,CACZY,UAAU,CAAE,CACVC,IAAI,CAAE,mBAAmB,CACzBC,IAAI,CAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAG,kBACjC,CAAC,CACDC,QAAQ,CAAE,SAAAA,SAAAC,IAAI,CAAI,CAChBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEF,IAAI,CAACG,iBAAiB,CAAC,CAC1DF,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEF,IAAI,CAACI,IAAI,CAAC,CACzCH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEF,IAAI,CAACK,KAAK,CAAC,CAG3CT,MAAM,CAACC,QAAQ,CAACS,MAAM,CAAC,CAAC,CAC1B,CACF,CAAC,CAAApB,QAAA,CAAAE,IAAA,SAEsB,CAAA1B,gBAAgB,CAACoB,OAAO,CAAC,QAA1CC,QAAQ,CAAAG,QAAA,CAAAqB,IAAA,yBAAArB,QAAA,CAAAsB,IAAA,MAAA7B,OAAA,GAEf,kBA5BK,CAAAL,aAAaA,CAAAmC,EAAA,SAAAlC,IAAA,CAAAmC,KAAA,MAAAC,SAAA,OA4BlB,CAEDpD,SAAS,CAAC,UAAM,CACd0C,OAAO,CAACC,GAAG,CAAC7B,MAAM,CAACuC,EAAE,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE3C,KAAA,QAAK4C,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC/C,IAAA,OAAA+C,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB/C,IAAA,MAAA+C,QAAA,CAAG,0BAAwB,CAAG,CAAC,CAE9BjD,WAAW,CAACkD,cAAc,CAAC,CAAC,cAAGhD,IAAA,MAAGiD,IAAI,CAAC,GAAG,CAACC,OAAO,CAAE3C,aAAe,CAAAwC,QAAA,CAAC,wBAAsB,CAAG,CAAC,CAAG,IAAI,EAEnG,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}